<!DOCTYPE html>
<html lang="ru">
  <head>
    <title> Askmepls </title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <%= csrf_meta_tags %>
        <%= csp_meta_tag %>
        <%= javascript_importmap_tags %>
        <script src="https://kit.fontawesome.com/60132982ed.js" crossorigin="anonymous"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>

  </head>

  <body>
      <div class="container-fluid mx-auto vh-100%" style="min-height: 1500px; background-color: indigo;">
         <div class="row mx-auto" style="width: 1200px;">

            <nav class="navbar navbar-expand-xl sticky-top rounded-3 ms-5 mb-3 pt-2" style="background-color: purple;">

                <div class="container-fluid">
                    <div class="navbar-brand text-white"><%= link_to "Askmepls", root_path %>
                    </div>

                    <div class='nav-link text-white'>
                      <% if current_user.present? %>
                      <%= "@#{current_user.nickname}" %>
                    </div>

                    <div class='nav-link text-white'>
                      <%= button_to "Выйти", session_path, method: :delete,
                      form: {data: {turbo_confirm: 'Are you sure to quit?'}},
                      title: 'Выйти' , class: "btn btn-danger btn-sm" %>

                      <% else %>

                      <%= link_to 'Регистрация', new_user_path, class: "btn btn-warning" %>
                      <%= link_to 'Вход', new_session_path, class: "btn btn-success" %>

                      <% end %>
                    </div>

                </div>

            </nav>
            <div class="row w-50 mx-auto">
              <% if flash[:notice].present? %>

                    <div class="alert alert-warning alert-dismissible fade show" role="alert">
                        <%= flash[:notice] %>
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Закрыть"></button>
                    </div>

              <% elsif flash[:alert].present? %>

                    <div class="alert alert-danger alert-dismissible fade show" role="alert">
                        <%= flash[:alert] %>
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Закрыть"></button>
                    </div>
              <% end %>
            </div>

        <%= yield %>

      </div>
    </div>
  </body>
</html>
